{"ast":null,"code":"import _objectSpread from\"D:/MERN PROJECTS/Machine Test/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[isRegister,setIsRegister]=useState(false);const{login,register,currentUser}=useAuth();const navigate=useNavigate();useEffect(()=>{if(currentUser){navigate('/');}},[currentUser,navigate]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{let result;if(isRegister){result=await register(formData.email,formData.password);}else{result=await login(formData.email,formData.password);}if(result.success){navigate('/');}else{setError(result.message);}}catch(err){setError('An error occurred. Please try again.');}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-shield fa-3x text-primary mb-3\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"card-title\",children:isRegister?'Create Admin Account':'Admin Login'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:isRegister?'Register your admin account':'Sign in to your account'})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),error]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",className:\"form-label\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope me-2\"}),\"Email Address\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",className:\"form-label\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock me-2\"}),\"Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,placeholder:\"Enter your password\",minLength:\"6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:\"Password must be at least 6 characters long.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100 mb-3\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\"}),isRegister?'Creating Account...':'Signing In...']}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(isRegister?'fa-user-plus':'fa-sign-in-alt',\" me-2\")}),isRegister?'Create Account':'Sign In']})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link text-decoration-none\",onClick:()=>{setIsRegister(!isRegister);setError('');setFormData({email:'',password:''});},children:isRegister?'Already have an account? Sign In':'Need to create an admin account? Register'})})]})})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","formData","setFormData","email","password","error","setError","loading","setLoading","isRegister","setIsRegister","login","register","currentUser","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","result","success","message","err","className","children","role","onSubmit","htmlFor","type","id","onChange","required","placeholder","minLength","disabled","concat","onClick"],"sources":["D:/MERN PROJECTS/Machine Test/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [isRegister, setIsRegister] = useState(false);\r\n\r\n  const { login, register, currentUser } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      navigate('/');\r\n    }\r\n  }, [currentUser, navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      let result;\r\n      if (isRegister) {\r\n        result = await register(formData.email, formData.password);\r\n      } else {\r\n        result = await login(formData.email, formData.password);\r\n      }\r\n\r\n      if (result.success) {\r\n        navigate('/');\r\n      } else {\r\n        setError(result.message);\r\n      }\r\n    } catch (err) {\r\n      setError('An error occurred. Please try again.');\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-card\">\r\n        <div className=\"card-body p-4\">\r\n          <div className=\"text-center mb-4\">\r\n            <i className=\"fas fa-user-shield fa-3x text-primary mb-3\"></i>\r\n            <h2 className=\"card-title\">\r\n              {isRegister ? 'Create Admin Account' : 'Admin Login'}\r\n            </h2>\r\n            <p className=\"text-muted\">\r\n              {isRegister ? 'Register your admin account' : 'Sign in to your account'}\r\n            </p>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"email\" className=\"form-label\">\r\n                <i className=\"fas fa-envelope me-2\"></i>\r\n                Email Address\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n                placeholder=\"Enter your email\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n              <label htmlFor=\"password\" className=\"form-label\">\r\n                <i className=\"fas fa-lock me-2\"></i>\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                name=\"password\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                required\r\n                placeholder=\"Enter your password\"\r\n                minLength=\"6\"\r\n              />\r\n              <div className=\"form-text\">\r\n                Password must be at least 6 characters long.\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary w-100 mb-3\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n                  {isRegister ? 'Creating Account...' : 'Signing In...'}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <i className={`fas ${isRegister ? 'fa-user-plus' : 'fa-sign-in-alt'} me-2`}></i>\r\n                  {isRegister ? 'Create Account' : 'Sign In'}\r\n                </>\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          <div className=\"text-center\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-link text-decoration-none\"\r\n              onClick={() => {\r\n                setIsRegister(!isRegister);\r\n                setError('');\r\n                setFormData({ email: '', password: '' });\r\n              }}\r\n            >\r\n              {isRegister \r\n                ? 'Already have an account? Sign In' \r\n                : 'Need to create an admin account? Register'\r\n              }\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}